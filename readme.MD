## Implementing an example of image repository

### Design assumptions

```
+----------------------------------------------------------------------------------------------------------------------------+
|                                                                                                                            |
|                                                                        +---------------------------------------------+     |
|                                                                        | Http Server                                 |     |
|                                                                        |                                             |     |
|                                                                        |    ++                                       |     |
|                                            +----------------+          |    +------+ /health                         |     |
|          +----------------+-----------+----+ Image Actions  +----------+    |                                        |     |
|          |                |           |    +-------+--------+          |    |                                        |     |
|          |                |           |            |                   |    +------+ /image (GET images and metadata)|     |
|    +-----+-------+   +----+------+ +--+-----+ +----+-----+             |    |           +                            |     |
|    | png to jpeg |   |crop worker| |filter 1| | filter 2 |             |    |           +----+GET /:imageName.format |     |
|    | worker      |   |           | |worker  | | worker   | ...         |    +           |                            |     |
|    +-------------+   +-----------+ +--------+ +----------+             |                +----+(POS posts a new image)|     |
|                                                                        |                +                            |     |
|  +--------------------------------------------------+------+           |                                             |     |
|              Image workers                          |                  +---------------------+-----------------------+     |
|                                             +-------+------------+                           |                             |
|                                     +-------+ Image Repository   | +-------------------------+                             |
|                                     |       +--------------------+                                                         |
+----------------------------------------------------------------------------------------------------------------------------+
                                      |
                                      +------+File System


```
 

## Example of usage

### Upload an image

``` 
curl -H "Content-Type: image/png" -X POST -d @/Users/oleg/dev/hub/prog-image-service/src/test/resources/simple.file http://localhost:2000/image
```

